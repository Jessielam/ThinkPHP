<layout name="layout" />

<div class="tab-div">
    <div id="tabbody-div">
        <form  action="__SELF__" method="post">
            <table width="90%" class="tab_table" align="center">
                <tr>
                    <td class="label">选择分类: </td>
                    <td>
                        <select name="parent_id">
                            <option value="0">顶级分类</option>
                            <?php foreach($catData as $k=>$v): 
                                if($v['id']==$data[id]||in_array($v['id'], $children))
                                    continue;
                                if($v['id']==$data['parent_id']){
                                    $selected = 'selected="selected"';
                                }else{
                                    $selected = "";
                                }
                            ?>
                                <option <?php echo $selected; ?> value="<?php echo $v['id']; ?>">
                                    <?php echo str_repeat("-",8*$v['level']).$v['cat_name']; ?>
                                </option>
                            <?php endforeach; ?>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="label">分类名称：</td>
                    <td><input type="text" name="cat_name"  value="<?php echo $data['cat_name']; ?>" size="22"/>
                </tr>
            </table>
            <div class="button-div">
                <input type="submit" value=" 确定 " class="button"/>
                <input type="reset" value=" 重置 " class="button" />
            </div>
        </form>
    </div>
</div>